const{useState:useState,useEffect:useEffect}=React,firebaseConfig={apiKey:window.ENV?.VITE_FIREBASE_API_KEY||"AIzaSyDFlzHW747uu1p1TdqWbdFM_omkjORRht4",authDomain:window.ENV?.VITE_FIREBASE_AUTH_DOMAIN||"dictionary-5fae9.firebaseapp.com",databaseURL:window.ENV?.VITE_FIREBASE_DATABASE_URL||"https://dictionary-5fae9-default-rtdb.firebaseio.com",projectId:window.ENV?.VITE_FIREBASE_PROJECT_ID||"dictionary-5fae9",storageBucket:window.ENV?.VITE_FIREBASE_STORAGE_BUCKET||"dictionary-5fae9.firebasestorage.app",messagingSenderId:window.ENV?.VITE_FIREBASE_MESSAGING_SENDER_ID||"615496664058",appId:window.ENV?.VITE_FIREBASE_APP_ID||"1:615496664058:web:0ea7b1bd792d230cbf1a43"};firebase.apps.length||firebase.initializeApp(firebaseConfig);const database=firebase.database(),auth=firebase.auth(),DictionaryLogo=({size:e=64})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("defs",null,React.createElement("linearGradient",{id:"bookCover",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},React.createElement("stop",{offset:"0%",style:{stopColor:"#7f1d1d",stopOpacity:1}}),React.createElement("stop",{offset:"50%",style:{stopColor:"#991b1b",stopOpacity:1}}),React.createElement("stop",{offset:"100%",style:{stopColor:"#7f1d1d",stopOpacity:1}})),React.createElement("linearGradient",{id:"pageGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},React.createElement("stop",{offset:"0%",style:{stopColor:"#fef9e7",stopOpacity:1}}),React.createElement("stop",{offset:"100%",style:{stopColor:"#faf5e4",stopOpacity:1}})),React.createElement("linearGradient",{id:"shadowGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},React.createElement("stop",{offset:"0%",style:{stopColor:"#000",stopOpacity:.4}}),React.createElement("stop",{offset:"100%",style:{stopColor:"#000",stopOpacity:0}})),React.createElement("linearGradient",{id:"goldFoil",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},React.createElement("stop",{offset:"0%",style:{stopColor:"#ffd700",stopOpacity:1}}),React.createElement("stop",{offset:"50%",style:{stopColor:"#ffed4e",stopOpacity:1}}),React.createElement("stop",{offset:"100%",style:{stopColor:"#ffd700",stopOpacity:1}}))),React.createElement("ellipse",{cx:"100",cy:"168",rx:"75",ry:"10",fill:"url(#shadowGrad)",opacity:"0.4"}),React.createElement("path",{d:"M 30 35 L 30 158 Q 30 165 37 165 L 95 165 L 95 35 Z",fill:"url(#bookCover)",stroke:"#5e1414",strokeWidth:"2"}),React.createElement("path",{d:"M 33 38 L 33 161 L 92 161 L 92 38 Z",fill:"url(#pageGradient)"}),React.createElement("line",{x1:"35",y1:"38",x2:"35",y2:"161",stroke:"#d4c5a0",strokeWidth:"0.5"}),React.createElement("line",{x1:"37",y1:"38",x2:"37",y2:"161",stroke:"#d4c5a0",strokeWidth:"0.5"}),React.createElement("line",{x1:"39",y1:"38",x2:"39",y2:"161",stroke:"#d4c5a0",strokeWidth:"0.5"}),React.createElement("rect",{x:"42",y:"45",width:"45",height:"110",fill:"#fffef8"}),React.createElement("text",{x:"45",y:"58",fontSize:"7",fontWeight:"bold",fill:"#2c1810",fontFamily:"serif"},"DICTIONARY"),React.createElement("line",{x1:"45",y1:"62",x2:"84",y2:"62",stroke:"#2c1810",strokeWidth:"0.3"}),React.createElement("line",{x1:"45",y1:"70",x2:"82",y2:"70",stroke:"#2c1810",strokeWidth:"0.3",opacity:"0.6"}),React.createElement("line",{x1:"45",y1:"75",x2:"80",y2:"75",stroke:"#2c1810",strokeWidth:"0.3",opacity:"0.6"}),React.createElement("line",{x1:"45",y1:"80",x2:"84",y2:"80",stroke:"#2c1810",strokeWidth:"0.3",opacity:"0.6"}),React.createElement("line",{x1:"45",y1:"85",x2:"78",y2:"85",stroke:"#2c1810",strokeWidth:"0.3",opacity:"0.6"}),React.createElement("path",{d:"M 95 35 L 105 35 L 105 165 L 95 165 Z",fill:"#5e1414"}),React.createElement("rect",{x:"96",y:"50",width:"8",height:"100",fill:"#7f1d1d",opacity:"0.7"}),React.createElement("text",{x:"100",y:"95",fontSize:"6",fontWeight:"bold",fill:"url(#goldFoil)",textAnchor:"middle",fontFamily:"serif",writingMode:"tb"},"DICTIONARY"),React.createElement("path",{d:"M 108 38 L 108 161 L 167 161 L 167 38 Z",fill:"url(#pageGradient)"}),React.createElement("line",{x1:"165",y1:"38",x2:"165",y2:"161",stroke:"#d4c5a0",strokeWidth:"0.5"}),React.createElement("line",{x1:"163",y1:"38",x2:"163",y2:"161",stroke:"#d4c5a0",strokeWidth:"0.5"}),React.createElement("line",{x1:"161",y1:"38",x2:"161",y2:"161",stroke:"#d4c5a0",strokeWidth:"0.5"}),React.createElement("rect",{x:"113",y:"45",width:"45",height:"110",fill:"#fffef8"}),React.createElement("text",{x:"116",y:"58",fontSize:"6",fontWeight:"bold",fill:"#2c1810",fontFamily:"serif"},"defÂ·iÂ·niÂ·tion"),React.createElement("text",{x:"116",y:"66",fontSize:"5",fill:"#666",fontFamily:"serif",fontStyle:"italic"},"/ËŒdefÉ™ËˆniSH(É™)n/"),React.createElement("line",{x1:"116",y1:"70",x2:"155",y2:"70",stroke:"#2c1810",strokeWidth:"0.3"}),React.createElement("line",{x1:"116",y1:"75",x2:"152",y2:"75",stroke:"#2c1810",strokeWidth:"0.3",opacity:"0.6"}),React.createElement("line",{x1:"116",y1:"80",x2:"154",y2:"80",stroke:"#2c1810",strokeWidth:"0.3",opacity:"0.6"}),React.createElement("line",{x1:"116",y1:"85",x2:"150",y2:"85",stroke:"#2c1810",strokeWidth:"0.3",opacity:"0.6"}),React.createElement("path",{d:"M 105 35 L 170 35 Q 175 35 175 40 L 175 160 Q 175 165 170 165 L 105 165 Z",fill:"url(#bookCover)",stroke:"#5e1414",strokeWidth:"2"}),React.createElement("rect",{x:"108",y:"38",width:"64",height:"3",fill:"#5e1414",opacity:"0.3"}),React.createElement("rect",{x:"108",y:"159",width:"64",height:"3",fill:"#5e1414",opacity:"0.3"}),React.createElement("rect",{x:"115",y:"50",width:"50",height:"75",stroke:"url(#goldFoil)",strokeWidth:"1.5",fill:"none",opacity:"0.9"}),React.createElement("rect",{x:"118",y:"53",width:"44",height:"69",stroke:"url(#goldFoil)",strokeWidth:"0.8",fill:"none",opacity:"0.7"}),React.createElement("text",{x:"140",y:"75",fontSize:"11",fontWeight:"bold",fill:"url(#goldFoil)",textAnchor:"middle",fontFamily:"serif"},"THE"),React.createElement("text",{x:"140",y:"92",fontSize:"14",fontWeight:"bold",fill:"url(#goldFoil)",textAnchor:"middle",fontFamily:"serif"},"DICTIONARY"),React.createElement("text",{x:"140",y:"107",fontSize:"9",fill:"url(#goldFoil)",textAnchor:"middle",fontFamily:"serif"},"GAME"),React.createElement("path",{d:"M 125 65 L 155 65",stroke:"url(#goldFoil)",strokeWidth:"0.8",opacity:"0.7"}),React.createElement("path",{d:"M 125 112 L 155 112",stroke:"url(#goldFoil)",strokeWidth:"0.8",opacity:"0.7"}),React.createElement("circle",{cx:"122",cy:"58",r:"1.5",fill:"url(#goldFoil)",opacity:"0.8"}),React.createElement("circle",{cx:"158",cy:"58",r:"1.5",fill:"url(#goldFoil)",opacity:"0.8"}),React.createElement("circle",{cx:"122",cy:"117",r:"1.5",fill:"url(#goldFoil)",opacity:"0.8"}),React.createElement("circle",{cx:"158",cy:"117",r:"1.5",fill:"url(#goldFoil)",opacity:"0.8"}));function MultiplayerDictionaryGame(){const[e,t]=useState("home"),[a,l]=useState(""),[n,r]=useState(""),[s,o]=useState(null),[c,i]=useState(null),[m,d]=useState(""),[p,u]=useState(""),[g,b]=useState("adult"),[f,y]=useState(""),[x,h]=useState(""),[R,E]=useState(""),[v,N]=useState(null),[w,k]=useState(!1),[C,S]=useState(!1),[$,D]=useState([]),[j,F]=useState([]),[A,I]=useState([]),[G,W]=useState([]),[O,P]=useState("cat"),[L,M]=useState([]),[T,_]=useState([]),[z,H]=useState([]),[B,V]=useState(""),[U,q]=useState(""),[Y,J]=useState(!1),[K,Q]=useState([]),[Z,X]=useState(!1),[ee,te]=useState({show:!1,message:"",type:"info"}),[ae,le]=useState(null),[ne,re]=useState([]),[se,oe]=useState([]),[ce,ie]=useState(!1),[me,de]=useState(""),[pe,ue]=useState(""),[ge,be]=useState(!1),[fe,ye]=useState(null),[xe,he]=useState(null),[Re,Ee]=useState(!1),[ve,Ne]=useState(!0);useEffect(()=>{const e=auth.onAuthStateChanged(async e=>{if(e)he(e),o(e.uid);else try{const e=await auth.signInAnonymously();he(e.user),o(e.user.uid)}catch(e){console.error("Error signing in anonymously:",e),ke("Authentication error. Please refresh the page.","error")}Ne(!1)});return()=>e()},[]),useEffect(()=>{fetch("/avatars.json").then(e=>e.json()).then(e=>re(e.avatars)).catch(e=>{console.error("Failed to load avatar options:",e),re([{id:"cat",emoji:"ðŸ±",label:"Cat"}])})},[]),useEffect(()=>{fetch("/scoring.json").then(e=>e.json()).then(e=>le(e)).catch(e=>{console.error("Failed to load scoring config:",e),le({rules:{votesForFakeDefinition:{points:1},votesForRealDefinition:{points:1},votingForRealDefinition:{points:1}}})})},[]),useEffect(()=>{fetch("/instructions.md").then(e=>e.text()).then(e=>de(e)).catch(e=>{console.error("Failed to load instructions:",e),de("# How to Play\n\nInstructions could not be loaded.")})},[]),useEffect(()=>{fetch("/CHANGELOG.md").then(e=>e.text()).then(e=>{const t=e.split("\n"),a=t.findIndex(e=>e.startsWith("## [1.")),l=t.findIndex(e=>e.startsWith("## Version History"));ue(-1!==a&&-1!==l?t.slice(a,l).join("\n"):e)}).catch(e=>{console.error("Failed to load changelog:",e),ue("# What's New\n\nChangelog could not be loaded.")})},[]);const we=e=>{if(!e)return null;const t=e.split("\n"),a=[];let l=null,n=null;return t.forEach((e,t)=>{if(e.startsWith("# "))a.push(React.createElement("h1",{key:t,className:"text-4xl font-bold text-purple-900 mb-2"},e.substring(2)));else if(e.startsWith("## ")){l&&(a.push(l),l=null);const n=e.match(/^##\s+\[(\d+\.\d+\.\d+)\]\s+-\s+(.+)$/);if(n)a.push(React.createElement("div",{key:t,className:"border-l-4 border-purple-500 pl-4 mb-6 mt-6"},React.createElement("h2",{className:"text-2xl font-bold text-purple-900 mb-1"},"Version ",n[1]),React.createElement("p",{className:"text-sm text-gray-500 mb-3"},n[2])));else{const l=e.substring(3,5),n=e.substring(5).trim(),r={"ðŸŽ®":"purple","ðŸ”„":"blue","ðŸ†":"green","ðŸ’¡":"orange","âœ¨":"indigo"}[l]||"purple";a.push(React.createElement("div",{key:t,className:`border-l-4 border-${r}-500 pl-4 mb-6`},React.createElement("h2",{className:`text-2xl font-bold text-${r}-900 mb-3`},l," ",n)))}}else if(e.startsWith("### ")){l&&(a.push(l),l=null);const n={Added:"text-green-800 bg-green-50 border-green-200",Changed:"text-blue-800 bg-blue-50 border-blue-200",Fixed:"text-orange-800 bg-orange-50 border-orange-200",Removed:"text-red-800 bg-red-50 border-red-200"},r=e.substring(4).trim(),s=n[r]||"text-gray-800";a.push(React.createElement("h3",{key:t,className:`text-lg font-semibold mb-2 mt-4 px-3 py-1 rounded border ${s}`},r))}else if(e.match(/^\d+\.\s/)){const r=e.replace(/^\d+\.\s/,""),s=r.match(/\*\*(.*?)\*\*/);l&&"ol"===n||(l&&a.push(l),l=React.createElement("ol",{key:`list-${t}`,className:"list-decimal list-inside space-y-2 text-gray-700 mb-4"}),n="ol"),l=React.cloneElement(l,{children:[...l.props.children||[],React.createElement("li",{key:t},s?React.createElement(React.Fragment,null,React.createElement("strong",null,s[1]),r.replace(/\*\*(.*?)\*\*/,"").substring(s[1].length)):r)]})}else if(e.match(/^(\s*)-\s/)){const r=e.match(/^(\s*)-\s/),s=r[1].length,o=e.substring(r[0].length),c=o.match(/\*\*(.*?)\*\*/g),i=s>=2;l&&"ul"===n||(l&&a.push(l),l=React.createElement("ul",{key:`list-${t}`,className:"list-disc list-inside space-y-2 text-gray-700 ml-4 mb-4"}),n="ul");let m=o;c&&(m=o.split(/(\*\*.*?\*\*)/).map((e,t)=>e.startsWith("**")&&e.endsWith("**")?React.createElement("strong",{key:t},e.slice(2,-2)):e));const d=i?"ml-4":"";l=React.cloneElement(l,{children:[...l.props.children||[],React.createElement("li",{key:t,className:d},m)]})}else e.trim()&&!e.startsWith("#")?(l&&(a.push(l),l=null),a.push(React.createElement("p",{key:t,className:"text-gray-600 mb-3"},e))):!e.trim()&&l&&(a.push(l),l=null,n=null)}),l&&a.push(l),a},ke=(e,t="info")=>{te({show:!0,message:e,type:t}),setTimeout(()=>{te({show:!1,message:"",type:"info"})},3e3)};useEffect(()=>{const e=new URLSearchParams(window.location.search).get("game");e&&(d(e.toUpperCase()),t("join"),window.history.replaceState({},"",window.location.pathname))},[]),useEffect(()=>{localStorage.getItem("dictionaryGame_playerName");const e=JSON.parse(localStorage.getItem("dictionaryGame_history")||"[]");if(e.length>0){const t=e.map(({code:e,playerId:t,joinedAt:a})=>database.ref(`games/${e}`).once("value").then(l=>{if(l.exists()){const n=l.val();if(n.players&&n.players[t])return{code:e,playerId:t,playerName:n.players[t].name,hostName:n.hostName,state:n.state,playerCount:Object.keys(n.players||{}).length,joinedAt:a,lastActivity:n.lastActivity}}return null}));Promise.all(t).then(e=>{const t=e.filter(e=>null!==e).sort((e,t)=>(t.lastActivity||t.joinedAt)-(e.lastActivity||e.joinedAt));t.length>0&&(Q(t),X(!0))})}},[]);const Ce=()=>({browser:navigator.userAgent,platform:navigator.platform,language:navigator.language,joinedAt:Date.now()}),Se=async()=>{if(!xe)return void ke("Please wait for authentication...","error");const e=Math.random().toString(36).substring(2,8).toUpperCase(),a=xe.uid;await database.ref(`games/${e}`).set({host:a,hostName:n,state:"setup",createdAt:Date.now(),lastActivity:Date.now(),players:{[a]:{name:n,score:0,isHost:!0,avatar:O,sessionInfo:Ce()}}}),localStorage.setItem("dictionaryGame_code",e),localStorage.setItem("dictionaryGame_playerId",a),localStorage.setItem("dictionaryGame_playerName",n);const r=JSON.parse(localStorage.getItem("dictionaryGame_history")||"[]");r.push({code:e,playerId:a,joinedAt:Date.now()}),localStorage.setItem("dictionaryGame_history",JSON.stringify(r));const s=JSON.parse(localStorage.getItem("dictionaryGame_createdGames")||"[]");s.push({code:e,createdAt:Date.now(),playerName:n}),localStorage.setItem("dictionaryGame_createdGames",JSON.stringify(s)),l(e),o(a),t("game")},$e=async()=>{if(!xe)return void ke("Please wait for authentication...","error");if(!m||!p)return void ke("Please enter both game code and your name","error");const e=m.toUpperCase(),a=await database.ref(`games/${e}`).once("value");if(!a.exists())return void ke("Game not found","error");const n=a.val();if(Object.values(n.players||{}).some(e=>e.name.toLowerCase()===p.trim().toLowerCase()))return void ke(`The name "${p}" is already taken`,"error");const s=xe.uid;await database.ref(`games/${e}/players/${s}`).set({name:p,score:0,isHost:!1,avatar:O,sessionInfo:Ce()}),await database.ref(`games/${e}/lastActivity`).set(Date.now()),localStorage.setItem("dictionaryGame_code",e),localStorage.setItem("dictionaryGame_playerId",s),localStorage.setItem("dictionaryGame_playerName",p);const c=JSON.parse(localStorage.getItem("dictionaryGame_history")||"[]");c.push({code:e,playerId:s,joinedAt:Date.now()}),localStorage.setItem("dictionaryGame_history",JSON.stringify(c)),l(e),o(s),r(p),t("game")};useEffect(()=>{if("join"===e){console.log("Loading available games...");const e=database.ref("games");return e.on("value",e=>{const t=e.val();if(console.log("Games data from Firebase:",t),t){const e=Object.entries(t);console.log("Total games found:",e.length);const a=e.filter(([e,t])=>{const a=Date.now()-(t.lastActivity||t.createdAt||0),l=a<864e5;return console.log(`Game ${e}: age=${Math.round(a/1e3/60)} minutes, isRecent=${l}`),l}).map(([e,t])=>({code:e,hostName:t.hostName,playerCount:Object.keys(t.players||{}).length,state:t.state,createdAt:t.createdAt})).sort((e,t)=>t.createdAt-e.createdAt);console.log("Filtered available games:",a),I(a)}else console.log("No games data in Firebase"),I([])}),()=>e.off()}},[e]),useEffect(()=>{if("home"===e||"join"===e){const e=database.ref("gameHistory");return e.orderByChild("endedAt").limitToLast(10).on("value",e=>{const t=e.val();if(t){const e=Object.values(t).sort((e,t)=>t.endedAt-e.endedAt);W(e)}else W([])}),()=>e.off()}},[e]),useEffect(()=>{if(a&&"game"===e){const e=database.ref(`games/${a}`);return e.on("value",e=>{const t=e.val();t&&(i(t),t.usedWords&&D(t.usedWords),t.skippedWords&&F(t.skippedWords))}),()=>e.off()}},[a,e]);const De=async(e=0)=>{k(!0);try{let e=null;const t=e=>{const t=e.toLowerCase();return!$.includes(t)&&!j.includes(t)};if(se.length>0){const a=se.filter(t);if(a.length>0)return e=a[Math.floor(Math.random()*a.length)],oe(t=>t.filter(t=>t!==e)),y(e),void k(!1)}console.log("Fetching new batch of words for difficulty:",g);let a=[];if("kids"===g){const e=["animals","nature","school","food","sports","weather","home","travel"],l=`https://api.datamuse.com/words?topics=${e[Math.floor(Math.random()*e.length)]}&max=500`,n=await fetch(l),r=await n.json();if(r&&r.length>0){a=r.filter(e=>e.word.length>=4&&e.word.length<=10&&/^[a-z]+$/.test(e.word)&&t(e.word)).sort(()=>Math.random()-.5).slice(0,30).map(e=>e.word)}if(a.length<20){let e=["canopy","whimsy","gadget","mosaic","nimble","frolic","plume","burrow","ember","marvel","riddle","puzzle","fossil","crystal","habitat","mammal","reptile","migrate","gravity","energy","journey","valley","meadow","beacon","harbor","vessel","crater","glacier","canyon","summit"].filter(t);a=[...a,...e].slice(0,30)}}else if("teen"===g){const e="https://api.datamuse.com/words?sp=?????????*&md=f&max=500",l=await fetch(e),n=await l.json();if(n&&n.length>0){a=n.filter(e=>{const a=e.tags?.[0]?.replace("f:","")||"0";return parseFloat(a)<20&&/^[a-z]+$/.test(e.word)&&t(e.word)}).sort(()=>Math.random()-.5).slice(0,30).map(e=>e.word)}if(a.length<20){let e=["ambiguous","benevolent","candor","diligent","ephemeral","facetious","gregarious","haphazard","impetuous","juxtapose","loquacious","melancholy","nefarious","ostentatious","pragmatic","quintessential","resilient","serendipity","tenacious","ubiquitous","verbose","whimsical","zealous","audacious","belligerent","conundrum","eloquent","frivolous","garrulous","innocuous"].filter(t);a=[...a,...e].slice(0,30)}}else a=["absquatulate","bumfuzzle","callipygian","defenestrate","erinaceous","floccinaucinihilipilification","gobemouche","higgler","impignorate","jentacular","kakistocracy","lollygag","malarkey","nudiustertian","octothorpe","pauciloquent","quomodocunquize","rhadamanthine","smellfungus","taradiddle","ulotrichous","vomitory","wabbit","xertz","yarborough","zenzizenzizenzic","borborygmus","collywobbles","donnybrook","fartlek","gardyloo","hobbledehoy","kerfuffle","snollygoster","bumbershoot","cattywampus","discombobulate","flibbertigibbet","gobbledygook","hullabaloo","lackadaisical","persnickety","shenanigans","whippersnapper","brouhaha","cantankerous","curmudgeon","dillydally","rigmarole","bamboozle","hornswoggle","nincompoop","poppycock","skedaddle","skullduggery","widdershins","ninny","piffle"].filter(t),a=a.sort(()=>Math.random()-.5);console.log("Fetched words for buffer:",a.length),a.length>0?(e=a[0],oe(a.slice(1)),y(e)):alert("Could not get a word. Please try again or enter one manually.")}catch(e){console.error("Error getting word:",e),alert("Error fetching word. Please try again or enter one manually.")}k(!1)},je=async()=>{if(f.trim()){S(!0);try{let e=null,t="";try{const a=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${f.toLowerCase()}`);if(a.ok){const l=await a.json();l&&l[0]&&(l[0].meanings&&l[0].meanings[0]&&(e=l[0].meanings[0].definitions[0].definition),l[0].phonetic?t=l[0].phonetic:l[0].phonetics&&l[0].phonetics[0]?.text&&(t=l[0].phonetics[0].text),l[0].origin&&q(`Origin: ${l[0].origin}`))}}catch(e){console.log("Free Dictionary API failed:",e)}if(!e){console.log("Trying Wiktionary API...");try{const t=await fetch(`https://en.wiktionary.org/api/rest_v1/page/definition/${encodeURIComponent(f.toLowerCase())}`);if(t.ok){const a=await t.json();a&&a.en&&a.en[0]&&a.en[0].definitions&&a.en[0].definitions[0]&&(e=a.en[0].definitions[0].definition,e=e.replace(/<[^>]*>/g,"").replace(/\[\[([^\]]+)\]\]/g,"$1"),console.log("Found definition in Wiktionary"))}}catch(e){console.log("Wiktionary API failed:",e)}}if(!e){console.log("Trying DictionaryAPI.com...");try{const t=await fetch(`https://www.dictionaryapi.com/api/v3/references/collegiate/json/${f.toLowerCase()}?key=your-key-here`);if(t.ok){const a=await t.json();a&&a[0]&&a[0].shortdef&&a[0].shortdef[0]&&(e=a[0].shortdef[0],console.log("Found definition in DictionaryAPI.com"))}}catch(e){console.log("DictionaryAPI.com failed:",e)}}if(e){if(h(e.charAt(0).toUpperCase()+e.slice(1)),t&&V(t),!U){const e=[`This is a ${g}-level word!`,"Challenge your friends with this word."];q(e[Math.floor(Math.random()*e.length)])}}else alert('Could not find definition for "'+f+'" in any dictionary. Please enter the definition manually or search online (try Merriam-Webster.com or Dictionary.com).')}catch(e){console.error("Definition fetch error:",e),alert("Error fetching definition. Please enter the definition manually or search online.")}S(!1)}else alert("Please enter a word first")},Fe=()=>{if("speechSynthesis"in window&&f){const e=new SpeechSynthesisUtterance(f);e.rate=.8,e.pitch=1,window.speechSynthesis.speak(e)}},Ae=async()=>{if(!f||!x)return void alert("Please enter word and definition");const e=f.toLowerCase().trim();if($.includes(e)){if(!confirm(`"${f}" has been used before. Use it anyway?`))return}else{const t=[...$,e];await database.ref(`games/${a}/usedWords`).set(t)}const t=x.trim().replace(/[.!?;,]+$/,"");await database.ref(`games/${a}`).update({state:"collecting",currentWord:f,realDefinition:t,difficulty:g,pronunciation:B||"",wordFact:U||"",definitions:{},votes:{}})},Ie=async()=>{if(!f.trim())return void alert("Please enter a word first");const e=f.toLowerCase().trim(),t=[...j,e];await database.ref(`games/${a}/skippedWords`).set(t),y(""),h(""),alert(`"${f}" has been marked as skipped`)},Ge=async()=>{confirm("Clear all word history (used and skipped)? This cannot be undone.")&&(await database.ref(`games/${a}`).update({usedWords:[],skippedWords:[]}),D([]),F([]),ke("Word history cleared!","success"))},We=async(e,t)=>{if("used"===t){const t=$.filter(t=>t!==e);await database.ref(`games/${a}/usedWords`).set(t),D(t)}else{const t=j.filter(t=>t!==e);await database.ref(`games/${a}/skippedWords`).set(t),F(t)}ke(`"${e}" removed from ${t} words`,"success")},Oe=async()=>{Ee(!0)},Pe=async()=>{Ee(!1),ke("Ending game...","info"),Promise.resolve().then(async()=>{try{const e=c.players||{},l=c.leftPlayers||{},n=c.roundsPlayed||0,r=[...Object.entries(e).map(([e,t])=>({name:t.name,score:t.score,active:!0})),...Object.entries(l).map(([e,t])=>({name:t.name,score:t.score,active:!1}))].sort((e,t)=>t.score-e.score);if(n>0){const e=`${a}_${Date.now()}`;await database.ref(`gameHistory/${e}`).set({gameCode:a,players:r,winner:r[0],endedAt:Date.now(),hostName:c.hostName,roundsPlayed:n})}await database.ref(`games/${a}`).remove();const s=JSON.parse(localStorage.getItem("dictionaryGame_createdGames")||"[]").filter(e=>e.code!==a);localStorage.setItem("dictionaryGame_createdGames",JSON.stringify(s)),localStorage.removeItem("dictionaryGame_code"),localStorage.removeItem("dictionaryGame_playerId"),localStorage.removeItem("dictionaryGame_playerName"),t("home"),n>0?ke("Game ended and saved to history!","success"):ke("Game ended (not saved to history - no rounds played)","info")}catch(e){console.error("Error ending game:",e),ke("Error ending game. Please try again.","error")}})},Le=async()=>{if(!R.trim())return void alert("Please enter a definition");const e=R.trim().replace(/[.!?;,]+$/,"");await database.ref(`games/${a}/definitions/${s}`).set({text:e}),E("")},Me=async()=>{await database.ref(`games/${a}`).update({state:"voting"})},Te=async()=>{const e=c.votes||{},t=c.definitions||{},l=c.players||{},n=c.dictionaryHolder||c.host,r={};Object.values(e).forEach(e=>{r[e]=(r[e]||0)+1});const s={},o=c.customScoring||ae?.rules||{votesForFakeDefinition:{points:1},votesForRealDefinition:{points:1},votingForRealDefinition:{points:1}};if(Object.keys(t).forEach(e=>{if(r[e]){const t=l[e]?.score||0;s[`players/${e}/score`]=t+r[e]*o.votesForFakeDefinition.points}}),r.real){const e=l[n]?.score||0;s[`players/${n}/score`]=e+r.real*o.votesForRealDefinition.points}Object.entries(e).forEach(([e,t])=>{if("real"===t){const t=l[e]?.score||0;s[`players/${e}/score`]=(s[`players/${e}/score`]||t)+o.votingForRealDefinition.points}}),s.state="results",s.voteCounts=r,await database.ref(`games/${a}`).update(s)},_e=async e=>{if(!isHost)return;const t=c.players[e]?.score||0;await database.ref(`games/${a}/players/${e}/score`).set(t+1),ke(`Awarded bonus point to ${c.players[e]?.name}`,"success")},ze=async()=>{await database.ref(`games/${a}`).update({state:"setup",currentWord:null,realDefinition:null,definitions:null,votes:null,voteCounts:null,roundsPlayed:(c.roundsPlayed||0)+1,lastActivity:Date.now()}),y(""),h(""),E(""),N(null)},He=async()=>{confirm("Restart this round? All definitions and votes will be lost.")&&(await database.ref(`games/${a}`).update({state:"setup",currentWord:null,realDefinition:null,definitions:null,votes:null,voteCounts:null}),y(""),h(""),E(""),N(null))},Be=async e=>{await database.ref(`games/${a}`).update({dictionaryHolder:e,dictionaryHolderName:players[e]?.name})},Ve=()=>{navigator.clipboard.writeText(a),ke("Game code copied!","success")},[Ue,qe]=useState(!1),Ye=()=>{qe(!Ue)},Je=()=>{const e=`${window.location.origin}${window.location.pathname}?game=${a}`;navigator.clipboard.writeText(e),ke("Share link copied!","success")},Ke=async()=>{const e=prompt("How many bots would you like to add? (1-8)","4");if(!e)return;const t=Math.min(Math.max(parseInt(e)||4,1),8),l=["Shakespeare","Einstein","Cleopatra","Tesla","Darwin","Curie","Napoleon","Socrates"],n=["scholar","dog","bird","snake","cat","hat","car","tree"];for(let e=0;e<t;e++){const t=`bot_${Date.now()}_${e}`;await database.ref(`games/${a}/players/${t}`).set({name:l[e],score:0,isHost:!1,avatar:n[e],isBot:!0}),await new Promise(e=>setTimeout(e,10))}await database.ref(`games/${a}/lastActivity`).set(Date.now())};useEffect(()=>{if(!a||!c)return;const e=c.players||{},t=Object.entries(e).filter(([e,t])=>t.isBot);if(0!==t.length){if("collecting"===c.state){const e=c.definitions||{};t.forEach(([t,l])=>{e[t]||setTimeout(async()=>{c.currentWord;const e=(await database.ref(`games/${a}/definitions`).once("value")).val()||{},l=Object.values(e).map(e=>e.text),n=e=>e[Math.floor(Math.random()*e.length)],r=()=>[`A ${n(["small","large","rare","common","unusual","peculiar","distinctive"])} object or substance used in ${n(["ancient","medieval","traditional","modern","contemporary"])} ${n(["ceremonies","practices","crafts","medicine","rituals","trades"])}`,`The ${n(["process","art","practice","technique","method","procedure"])} of ${n(["creating","producing","forming","shaping","fashioning","crafting"])} something through ${n(["careful","precise","deliberate","systematic","meticulous","rigorous"])} means`,`A ${n(["medical","botanical","geological","astronomical","nautical","architectural"])} term for a ${n(["condition","phenomenon","formation","pattern","structure","occurrence"])} ${n(["characterized by","resulting from","associated with","marked by","distinguished by","defined by"])} ${n(["unusual","specific","distinct","particular","unique","notable"])} properties`,`To ${n(["carefully","deliberately","systematically","thoroughly","methodically","precisely"])} ${n(["arrange","organize","prepare","modify","adjust","configure"])} something in a ${n(["specific","particular","prescribed","traditional","customary","established"])} manner`,`The act of ${n(["moving","transferring","converting","transforming","shifting","transitioning"])} something from one ${n(["state","form","position","condition","phase","stage"])} to another`,`Having the ${n(["quality","characteristic","property","nature","attribute","trait"])} of being ${n(["exceptionally","particularly","remarkably","notably","distinctly","uncommonly"])} ${n(["complex","simple","delicate","robust","intricate","elaborate"])}`,`${n(["Relating to","Pertaining to","Associated with","Connected with","Concerning","Regarding"])} ${n(["ancient","historical","traditional","cultural","ancestral","bygone"])} ${n(["beliefs","practices","customs","traditions","conventions","ceremonies"])}`,`A person who ${n(["specializes in","practices","studies","engages in","devotes themselves to","focuses on"])} the ${n(["art","science","craft","skill","discipline","profession"])} of ${n(["creating","maintaining","analyzing","interpreting","designing","constructing"])} ${n(["complex","intricate","detailed","specialized","sophisticated","elaborate"])} ${n(["works","systems","structures","patterns","compositions","arrangements"])}`,`An ${n(["archaic","obsolete","antiquated","historical","outdated","bygone"])} term ${n(["formerly","originally","traditionally","historically","previously","once"])} used to ${n(["describe","denote","refer to","indicate","designate","signify"])} ${n(["persons","objects","practices","conditions","situations","phenomena"])} of ${n(["particular","special","significant","notable","considerable","exceptional"])} importance`,`A ${n(["decorative","functional","ceremonial","symbolic","ornamental"])} ${n(["implement","device","tool","instrument","apparatus"])} used primarily in ${n(["rural","urban","coastal","mountain","desert"])} regions`,`The ${n(["traditional","customary","habitual","routine","conventional"])} practice of ${n(["celebrating","commemorating","observing","honoring","marking"])} ${n(["seasonal","agricultural","religious","civic","social"])} events`,`A ${n(["temporary","permanent","seasonal","periodic","intermittent"])} ${n(["state","phase","condition","period","stage"])} of ${n(["growth","decline","transition","development","maturation"])} in ${n(["flora","fauna","geology","climate","society"])}`];let s,o=0;do{const e=r();s=n(e),o++}while(l.includes(s)&&o<20);l.includes(s)&&(s=`${s.slice(0,-1)}, ${n(["especially","particularly","notably"])} in ${n(["various","certain","specific","numerous"])} contexts`),s=s.replace(/[.!?;,]+$/,""),await database.ref(`games/${a}/definitions/${t}`).set({text:s})},3e3*Math.random()+1e3)})}if("voting"===c.state){const e=c.votes||{},l=c.definitions||{};t.forEach(([t,n])=>{e[t]||setTimeout(async()=>{const e=[...Object.entries(l).filter(([e])=>e!==t).map(([e,t])=>({id:e,text:t.text,score:t.text.length+(t.text.includes("characterized by")?10:0)+(t.text.includes("traditionally")?10:0)+(t.text.includes("archaic")?10:0)+(t.text.includes("obsolete")?10:0)})),{id:"real",text:c.realDefinition||"",score:(c.realDefinition||"").length+((c.realDefinition||"").includes("characterized by")?10:0)+((c.realDefinition||"").includes("traditionally")?10:0)}];let n;if(Math.random()<.7){const t=e.reduce((e,t)=>e+t.score,0);let a=Math.random()*t;n=e[0].id;for(const t of e)if(a-=t.score,a<=0){n=t.id;break}}else n=e[Math.floor(Math.random()*e.length)].id;await database.ref(`games/${a}/votes/${t}`).set(n)},3e3*Math.random()+1e3)})}}},[c?.state,c?.definitions,c?.votes,a]);const Qe=async()=>{if(!confirm("Are you sure you want to leave this game? This cannot be undone."))return;const e=c.players||{},l=c.host===s,n=Object.keys(e).length,r=e[s],o=c.leftPlayers||{};if(o[s]={name:r.name,score:r.score,avatar:r.avatar,leftAt:Date.now()},await database.ref(`games/${a}/leftPlayers`).set(o),await database.ref(`games/${a}/players/${s}`).remove(),await database.ref(`games/${a}/lastActivity`).set(Date.now()),l&&n>1){const t=Object.entries(e).filter(([e])=>e!==s);if(t.length>0){const[e,l]=t[0];await database.ref(`games/${a}`).update({host:e,hostName:l.name,[`players/${e}/isHost`]:!0}),console.log(`Host transferred to ${l.name}`)}}else(l&&1===n||1===n)&&await database.ref(`games/${a}`).remove();localStorage.removeItem("dictionaryGame_code"),localStorage.removeItem("dictionaryGame_playerId"),localStorage.removeItem("dictionaryGame_playerName"),alert("You have left the game."),t("home")};useEffect(()=>{if("manage"===e){database.ref("games").once("value",e=>{const t=e.val();if(t){const e=Object.entries(t).map(([e,t])=>({code:e,...t,playerCount:Object.keys(t.players||{}).length}));M(e)}else M([])})}},[e]),useEffect(()=>{if("stats"===e){const e=database.ref("games");e.on("value",e=>{const t=e.val();if(t){const e=Object.entries(t).map(([e,t])=>({code:e,...t,playerCount:Object.keys(t.players||{}).length}));_(e)}else _([])});const t=database.ref("gameHistory");return t.on("value",e=>{const t=e.val();if(t){const e=Object.values(t).sort((e,t)=>t.endedAt-e.endedAt);H(e)}else H([])}),()=>{e.off(),t.off()}}},[e]);const Ze=async()=>{if(confirm("âš ï¸ DANGER: This will delete ALL games, game history, and localStorage data. This cannot be undone. Are you absolutely sure?")&&confirm("Last chance! This will permanently delete everything. Continue?"))try{localStorage.clear(),l(""),r(""),o(null),i(null),I([]),W([]),M([]),t("home"),alert('âœ… Local data has been cleared!\n\nNote: Firebase games data remains for security. To delete all games, use Firebase Console or the "Manage My Games" feature to terminate individual games.')}catch(e){console.error("Error resetting data:",e),alert("âŒ Error resetting data. Check console for details.")}};if("home"===e){const e=["serendipity","ephemeral","quintessential","ubiquitous","mellifluous","enigma","paradox","luminous","euphoria","nostalgia","eloquent","whimsical","ethereal","labyrinth","cascade","harmony","solitude","renaissance","kaleidoscope","magnificent","ebullient","ineffable","petrichor","susurrus","phosphenes","vellichor","defenestration","apricity","hiraeth","eigengrau","sonder","onism","chrysalism","kenopsia","monachopsis","lachesism","exulansis","nodus tollens","anecdoche","ellipsism","jouska","liberosis","mauerbauertraurigkeit","occhiolism","opia"];return React.createElement(React.Fragment,null,React.createElement("div",{className:"min-h-screen gradient-bg-animated flex items-center justify-center p-4 overflow-hidden relative"},React.createElement("div",{className:"absolute inset-0 overflow-hidden pointer-events-none"},e.map((e,t)=>React.createElement("div",{key:t,className:"absolute text-purple-200 font-serif opacity-20 select-none",style:{fontSize:20*Math.random()+15+"px",left:100*Math.random()+"%",top:100*Math.random()+"%",animation:`float ${20*Math.random()+15}s infinite ease-in-out`,animationDelay:5*Math.random()+"s",transform:`rotate(${30*Math.random()-15}deg)`}},e))),Re&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-2xl p-6 max-w-md w-full card-3d"},React.createElement("h2",{className:"text-2xl font-bold text-red-600 mb-4"},"âš ï¸ End Game?"),React.createElement("p",{className:"text-gray-700 mb-6"},"Are you sure you want to end this game? This will close the game for all players and save it to history."),React.createElement("div",{className:"flex gap-3"},React.createElement("button",{onClick:()=>Ee(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 btn-3d"},"Cancel"),React.createElement("button",{onClick:Pe,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 btn-3d"},"End Game")))),Z&&K.length>0&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-2xl p-6 max-w-lg w-full card-3d"},React.createElement("h2",{className:"text-2xl font-bold text-purple-900 mb-4"},"Welcome Back!"),React.createElement("p",{className:"text-gray-600 mb-4"},"You have ",K.length," active game",K.length>1?"s":"",". Would you like to rejoin?"),React.createElement("div",{className:"space-y-3 mb-4 max-h-96 overflow-y-auto"},K.map((e,a)=>React.createElement("button",{key:e.code,onClick:()=>{l(e.code),o(e.playerId),r(e.playerName),t("game"),X(!1)},className:"w-full text-left p-4 rounded-lg border-2 transition-all btn-3d "+(0===a?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300")},React.createElement("div",{className:"flex justify-between items-start mb-2"},React.createElement("div",null,React.createElement("span",{className:"font-mono font-bold text-lg text-purple-900"},e.code),0===a&&React.createElement("span",{className:"ml-2 text-xs bg-green-500 text-white px-2 py-1 rounded"},"Most Recent")),React.createElement("span",{className:"text-sm text-gray-500"},e.playerCount," players")),React.createElement("p",{className:"text-sm text-gray-600"},"Host: ",e.hostName),React.createElement("p",{className:"text-xs text-purple-600 mt-1"},"State: ",e.state)))),React.createElement("button",{onClick:()=>X(!1),className:"w-full px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 btn-3d"},"Start New Game Instead"))),React.createElement("div",{className:"glass-card rounded-2xl shadow-2xl p-8 max-w-md w-full card-3d fade-in"},React.createElement("div",{className:"text-center mb-8"},React.createElement("div",{className:"flex justify-center mb-4 float-animation"},React.createElement(DictionaryLogo,{size:80})),React.createElement("h1",{className:"text-3xl font-bold text-purple-900 mb-2 gradient-text"},"Dictionary Game"),React.createElement("p",{className:"text-gray-600"},"Multiplayer Word Bluffing Game")),React.createElement("div",{className:"space-y-4"},React.createElement("button",{onClick:()=>t("host"),className:"w-full px-6 py-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold text-lg btn-3d fade-in-delay-1"},"Host New Game"),React.createElement("button",{onClick:()=>t("join"),className:"w-full px-6 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-lg btn-3d fade-in-delay-2"},"Join Game"),React.createElement("button",{onClick:()=>t("manage"),className:"w-full px-6 py-4 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-semibold text-lg btn-3d fade-in-delay-3"},"Manage My Games"),React.createElement("button",{onClick:()=>t("stats"),className:"w-full px-6 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold text-lg btn-3d fade-in-delay-4"},"ðŸ“Š Game Stats"),React.createElement("button",{onClick:()=>t("instructions"),className:"w-full px-6 py-4 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-semibold text-lg btn-3d fade-in-delay-5"},"ðŸ“– How to Play"),React.createElement("button",{onClick:()=>t("changelog"),className:"w-full px-6 py-4 bg-pink-600 text-white rounded-lg hover:bg-pink-700 font-semibold text-lg btn-3d fade-in-delay-6"},"âœ¨ What's New")),React.createElement("div",{className:"mt-8 text-center space-y-2"},React.createElement("p",{className:"text-xs text-gray-500"},"Â© 2026 Shaolynx, LLC"),React.createElement("p",{className:"text-xs text-gray-500"},"Licensed under MIT License"),React.createElement("button",{onClick:e=>{if(e.shiftKey){const t=parseInt(e.target.dataset.clicks||"0")+1;if(e.target.dataset.clicks=t,t>=3&&confirm("Show admin reset button?")){const t=document.createElement("button");t.textContent="ðŸ”¥ RESET ALL DATA",t.className="mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm font-bold",t.onclick=Ze,e.target.parentNode.appendChild(t),e.target.dataset.clicks="0"}}},className:"text-xs text-gray-500 hover:text-gray-700"},"v1.4.5")),G.length>0&&React.createElement("div",{className:"mt-8"},React.createElement("h2",{className:"text-lg font-semibold text-gray-700 mb-3"},"Recent Games"),React.createElement("div",{className:"space-y-2 max-h-64 overflow-y-auto"},G.map((e,t)=>React.createElement("div",{key:t,className:"bg-gray-50 p-3 rounded text-sm"},React.createElement("div",{className:"flex justify-between items-start mb-1"},React.createElement("span",{className:"font-semibold text-purple-900"},"ðŸ† ",e.winner?.name),React.createElement("span",{className:"text-xs text-gray-500"},new Date(e.endedAt).toLocaleDateString())),React.createElement("div",{className:"text-xs text-gray-600"},e.players?.slice(0,3).map(e=>`${e.name} (${e.score})`).join(", "),e.players?.length>3&&"..."))))))),ee.show&&React.createElement("div",{className:`toast show ${ee.type}`},ee.message))}if("host"===e)return React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full card-3d"},React.createElement("div",{className:"flex items-center gap-3 mb-6"},React.createElement(DictionaryLogo,{size:48}),React.createElement("h2",{className:"text-2xl font-bold text-purple-900"},"Host New Game")),React.createElement("div",{className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Your Name"),React.createElement("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"Enter your name",className:"w-full px-4 py-2 border rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Choose Your Avatar"),React.createElement("div",{className:"grid grid-cols-5 gap-2",style:{minHeight:"64px"}},0===ne.length?Array.from({length:10}).map((e,t)=>React.createElement("div",{key:t,className:"p-3 rounded-lg border-2 border-gray-200 bg-gray-100 animate-pulse",style:{height:"64px"}})):ne.map(e=>React.createElement("button",{key:e.id,onClick:()=>P(e.id),className:"p-3 text-3xl rounded-lg border-2 transition "+(O===e.id?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-purple-300"),title:e.label},e.emoji)))),React.createElement("button",{onClick:Se,disabled:!n.trim(),className:"w-full px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 btn-3d"},"Create Game"),React.createElement("button",{onClick:()=>t("home"),className:"w-full px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 btn-3d"},"Back"))));if("manage"===e)return React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-2xl w-full card-3d"},React.createElement("div",{className:"flex items-center gap-3 mb-6"},React.createElement(DictionaryLogo,{size:48}),React.createElement("h2",{className:"text-2xl font-bold text-purple-900"},"Manage My Games")),0===L.length?React.createElement("div",{className:"text-center py-8"},React.createElement("p",{className:"text-gray-600 mb-4"},"You haven't created any active games yet."),React.createElement("button",{onClick:()=>t("host"),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 btn-3d"},"Create Your First Game")):React.createElement("div",{className:"space-y-4"},React.createElement("p",{className:"text-gray-600 mb-4"},"All active games (",L.length,"):"),L.map(e=>React.createElement("div",{key:e.code,className:"bg-gradient-to-r from-orange-50 to-red-50 border border-orange-200 rounded-lg p-4 depth-layer-2"},React.createElement("div",{className:"flex justify-between items-start"},React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"flex items-center gap-3 mb-2"},React.createElement("span",{className:"font-mono font-bold text-xl text-orange-900"},e.code),React.createElement("span",{className:"px-2 py-1 bg-orange-200 text-orange-800 text-xs rounded-full"},e.state||"setup")),React.createElement("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600"},React.createElement("div",null,React.createElement("span",{className:"font-medium"},"Players:")," ",e.playerCount),React.createElement("div",null,React.createElement("span",{className:"font-medium"},"Host:")," ",e.hostName),React.createElement("div",null,React.createElement("span",{className:"font-medium"},"Created:")," ",new Date(e.createdAt).toLocaleString()),React.createElement("div",null,React.createElement("span",{className:"font-medium"},"Rounds:")," ",e.roundsPlayed||0)),e.currentWord&&React.createElement("div",{className:"mt-2 text-sm"},React.createElement("span",{className:"font-medium text-purple-700"},"Current Word:"),React.createElement("span",{className:"text-purple-900 font-bold ml-1"},e.currentWord))),React.createElement("div",{className:"flex gap-2 ml-4"},React.createElement("button",{onClick:()=>{navigator.clipboard.writeText(e.code),alert("Game code copied!")},className:"px-3 py-2 bg-blue-500 text-white rounded text-sm hover:bg-blue-600",title:"Copy game code"},"Copy Code"),React.createElement("button",{onClick:()=>(async e=>{if(confirm(`Are you sure you want to terminate the game "${e}"? This will end the game for all players and cannot be undone.`))try{const t=await database.ref(`games/${e}`).once("value");if(t.exists()){const a=t.val(),l=a.players||{},n=Object.entries(l).map(([e,t])=>({name:t?.name||"Unknown",score:t?.score||0})).sort((e,t)=>t.score-e.score),r=`${e}_terminated_${Date.now()}`,s={gameCode:e,players:n,winner:n[0]||null,endedAt:Date.now(),roundsPlayed:a.roundsPlayed||0,terminated:!0};a.hostName&&(s.hostName=a.hostName),await database.ref(`gameHistory/${r}`).set(s)}await database.ref(`games/${e}`).remove();const a=JSON.parse(localStorage.getItem("dictionaryGame_createdGames")||"[]").filter(t=>t.code!==e);localStorage.setItem("dictionaryGame_createdGames",JSON.stringify(a)),M(t=>t.filter(t=>t.code!==e)),alert(`Game ${e} has been terminated successfully.`)}catch(e){console.error("Error terminating game:",e),alert("Error terminating game. Please try again.")}})(e.code,e.hostName),className:"px-3 py-2 bg-red-500 text-white rounded text-sm hover:bg-red-600",title:"Terminate this game"},"Terminate")))))),React.createElement("div",{className:"mt-6 space-y-2"},React.createElement("button",{onClick:()=>t("home"),className:"w-full px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 btn-3d"},"Back to Home"),React.createElement("button",{onClick:Ze,className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm font-bold",title:"Delete all games and data - cannot be undone!"},"ðŸ”¥ Reset All Data (DANGER)"))));if("join"===e)return React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full card-3d"},React.createElement("div",{className:"flex items-center gap-3 mb-6"},React.createElement(DictionaryLogo,{size:48}),React.createElement("h2",{className:"text-2xl font-bold text-purple-900"},"Join Game")),A.length>0&&React.createElement("div",{className:"mb-6"},React.createElement("h3",{className:"text-sm font-semibold text-gray-700 mb-2"},"Active Games:"),React.createElement("div",{className:"space-y-2 max-h-48 overflow-y-auto"},A.map(e=>React.createElement("button",{key:e.code,onClick:()=>{return t=e.code,void d(t);var t},className:"w-full text-left p-3 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200"},React.createElement("div",{className:"flex justify-between items-center"},React.createElement("div",null,React.createElement("span",{className:"font-mono font-bold text-blue-900"},e.code),React.createElement("span",{className:"text-sm text-gray-600 ml-2"},"â€¢ Host: ",e.hostName)),React.createElement("span",{className:"text-sm text-gray-500"},e.playerCount," players"))))),React.createElement("p",{className:"text-xs text-gray-500 mt-2"},"Click a game to auto-fill the code")),React.createElement("div",{className:"space-y-4"},A.length>0&&React.createElement("p",{className:"text-sm text-gray-600 text-center"},"Or enter code manually:"),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Game Code"),React.createElement("input",{type:"text",value:m,onChange:e=>d(e.target.value.toUpperCase()),placeholder:"Enter 6-digit code",maxLength:"6",className:"w-full px-4 py-2 border rounded-lg uppercase"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Your Name"),React.createElement("input",{type:"text",value:p,onChange:e=>u(e.target.value),placeholder:"Enter your name",className:"w-full px-4 py-2 border rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Choose Your Avatar"),React.createElement("div",{className:"grid grid-cols-5 gap-2",style:{minHeight:"64px"}},0===ne.length?Array.from({length:10}).map((e,t)=>React.createElement("div",{key:t,className:"p-3 rounded-lg border-2 border-gray-200 bg-gray-100 animate-pulse",style:{height:"64px"}})):ne.map(e=>React.createElement("button",{key:e.id,onClick:()=>P(e.id),className:"p-3 text-3xl rounded-lg border-2 transition "+(O===e.id?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"),title:e.label},e.emoji)))),React.createElement("button",{onClick:$e,disabled:!m.trim()||!p.trim(),className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 btn-3d"},"Join Game"),React.createElement("button",{onClick:()=>t("home"),className:"w-full px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 btn-3d"},"Back"))));if("stats"===e)return React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 p-4"},React.createElement("div",{className:"max-w-6xl mx-auto"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl p-8 mb-4"},React.createElement("div",{className:"flex items-center justify-between mb-6"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement(DictionaryLogo,{size:48}),React.createElement("h2",{className:"text-2xl font-bold text-purple-900"},"Game Stats")),React.createElement("button",{onClick:()=>t("home"),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"},"Back to Home")),React.createElement("div",{className:"mb-8"},React.createElement("h3",{className:"text-xl font-semibold text-purple-900 mb-4"},"ðŸŽ® Live Games (",T.length,")"),0===T.length?React.createElement("p",{className:"text-gray-600 text-center py-8"},"No active games right now"):React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},T.map(e=>{const t=Object.entries(e.players||{}).map(([e,t])=>({...t,id:e})).sort((e,t)=>(t.score||0)-(e.score||0)).slice(0,3);return React.createElement("div",{key:e.code,className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200 rounded-lg p-4 depth-layer-2"},React.createElement("div",{className:"flex justify-between items-start mb-3"},React.createElement("div",null,React.createElement("span",{className:"font-mono font-bold text-lg text-blue-900"},e.code),React.createElement("p",{className:"text-sm text-gray-600"},"Host: ",e.hostName)),React.createElement("div",{className:"text-right"},React.createElement("span",{className:"px-2 py-1 rounded-full text-xs font-semibold "+("setup"===e.state?"bg-gray-200 text-gray-700":"collecting"===e.state?"bg-yellow-200 text-yellow-800":"voting"===e.state?"bg-blue-200 text-blue-800":"results"===e.state?"bg-green-200 text-green-800":"bg-gray-200")},e.state),React.createElement("p",{className:"text-xs text-gray-500 mt-1"},e.playerCount," players"))),e.currentWord&&React.createElement("div",{className:"mb-3 p-2 bg-white rounded"},React.createElement("p",{className:"text-xs text-gray-600"},"Current Word:"),React.createElement("p",{className:"font-bold text-purple-700"},e.currentWord)),React.createElement("div",{className:"space-y-1"},React.createElement("p",{className:"text-xs font-semibold text-gray-700"},"Top Players:"),t.map((e,t)=>React.createElement("div",{key:e.id,className:"flex justify-between text-sm"},React.createElement("span",{className:"flex items-center gap-1"},0===t&&"ðŸ¥‡"," ",1===t&&"ðŸ¥ˆ"," ",2===t&&"ðŸ¥‰",e.name,e.isBot&&"ðŸ¤–"),React.createElement("span",{className:"font-bold text-purple-700"},e.score||0)))),React.createElement("div",{className:"mt-3 text-xs text-gray-500"},"Rounds: ",e.roundsPlayed||0))}))),React.createElement("div",null,React.createElement("h3",{className:"text-xl font-semibold text-purple-900 mb-4"},"ðŸ“œ Game History (",z.length,")"),0===z.length?React.createElement("p",{className:"text-gray-600 text-center py-8"},"No completed games yet"):React.createElement("div",{className:"space-y-3 max-h-96 overflow-y-auto"},z.map((e,t)=>React.createElement("div",{key:t,className:"bg-gray-50 border border-gray-200 rounded-lg p-4"},React.createElement("div",{className:"flex justify-between items-start mb-2"},React.createElement("div",null,React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"font-mono font-bold text-purple-900"},e.gameCode),e.terminated&&React.createElement("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full"},"Terminated")),React.createElement("p",{className:"text-sm text-gray-600"},"Host: ",e.hostName)),React.createElement("div",{className:"text-right"},React.createElement("p",{className:"text-xs text-gray-500"},new Date(e.endedAt).toLocaleDateString()),React.createElement("p",{className:"text-xs text-gray-500"},new Date(e.endedAt).toLocaleTimeString()))),e.winner&&React.createElement("div",{className:"mb-2 p-2 bg-yellow-50 border border-yellow-200 rounded"},React.createElement("p",{className:"text-sm"},React.createElement("span",{className:"font-semibold text-yellow-900"},"ðŸ† Winner: ",e.winner.name),React.createElement("span",{className:"text-gray-600 ml-2"},"(",e.winner.score," points)"))),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm"},e.players?.slice(0,6).map((e,t)=>React.createElement("div",{key:t,className:"flex justify-between bg-white p-2 rounded"},React.createElement("span",{className:"truncate"},e.name),React.createElement("span",{className:"font-semibold text-purple-700"},e.score))),e.players?.length>6&&React.createElement("div",{className:"text-xs text-gray-500 p-2"},"+",e.players.length-6," more")),React.createElement("div",{className:"mt-2 text-xs text-gray-500"},"Rounds played: ",e.roundsPlayed||0))))))));if("instructions"===e)return React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 p-4"},React.createElement("div",{className:"max-w-4xl mx-auto"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl p-8 mb-6"},React.createElement("button",{onClick:()=>t("home"),className:"mb-6 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 btn-3d"},"â† Back to Menu"),React.createElement("div",{className:"text-center mb-8"},we(me)),React.createElement("div",{className:"mt-8 text-center"},React.createElement("button",{onClick:()=>t("home"),className:"px-8 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold text-lg btn-3d"},"Ready to Play!")))));if("changelog"===e)return React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 p-4"},React.createElement("div",{className:"max-w-4xl mx-auto"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl p-8 mb-6"},React.createElement("button",{onClick:()=>t("home"),className:"mb-6 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 btn-3d"},"â† Back to Menu"),React.createElement("div",{className:"text-center mb-8"},React.createElement("h1",{className:"text-4xl font-bold text-purple-900 mb-2"},"âœ¨ What's New"),React.createElement("p",{className:"text-gray-600"},"Recent updates and changes")),React.createElement("div",{className:"space-y-4"},we(pe)),React.createElement("div",{className:"mt-8 text-center"},React.createElement("button",{onClick:()=>t("home"),className:"px-8 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold text-lg btn-3d"},"Back to Menu")))));if("config"===e&&c){return c.host===s?React.createElement(React.Fragment,null,React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 p-4"},React.createElement("div",{className:"max-w-4xl mx-auto"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl p-8 mb-6"},React.createElement("button",{onClick:()=>t("game"),className:"mb-6 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 btn-3d"},"â† Back to Game"),React.createElement("div",{className:"text-center mb-8"},React.createElement("h1",{className:"text-4xl font-bold text-purple-900 mb-2"},"âš™ï¸ Game Configuration"),React.createElement("p",{className:"text-gray-600"},"Customize game settings (Host only)"),React.createElement("p",{className:"text-sm text-gray-500 mt-2"},"Game Code: ",React.createElement("span",{className:"font-mono font-bold"},a))),React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"border-l-4 border-green-500 pl-4"},React.createElement("h2",{className:"text-2xl font-bold text-green-900 mb-3"},"ðŸŽ¯ Scoring Rules"),React.createElement("p",{className:"text-gray-600 mb-4"},"Customize point values for different actions. Changes apply to this game only."),React.createElement("button",{onClick:()=>{ye(c.customScoring||ae?.rules||{votesForFakeDefinition:{points:1,description:"Points per vote on fake definition"},votesForRealDefinition:{points:1,description:"Points to dictionary holder per vote on real definition"},votingForRealDefinition:{points:1,description:"Points for voting for real definition"}}),setTimeout(()=>be(!0),0)},className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold btn-3d"},"Edit Scoring Rules"),React.createElement("div",{className:"mt-4 bg-green-50 p-4 rounded-lg"},React.createElement("h3",{className:"font-semibold text-green-900 mb-2"},"Current Rules:"),React.createElement("ul",{className:"text-sm text-gray-700 space-y-1"},React.createElement("li",null,"â€¢ Votes on fake definition: ",React.createElement("strong",null,c.customScoring?.votesForFakeDefinition?.points||ae?.rules?.votesForFakeDefinition?.points||1," points")),React.createElement("li",null,"â€¢ Votes on real definition (to holder): ",React.createElement("strong",null,c.customScoring?.votesForRealDefinition?.points||ae?.rules?.votesForRealDefinition?.points||1," points")),React.createElement("li",null,"â€¢ Voting for real definition: ",React.createElement("strong",null,c.customScoring?.votingForRealDefinition?.points||ae?.rules?.votingForRealDefinition?.points||1," points"))))),React.createElement("div",{className:"border-l-4 border-gray-400 pl-4"},React.createElement("h2",{className:"text-2xl font-bold text-gray-500 mb-3"},"ðŸŽ¨ Avatar Management"),React.createElement("p",{className:"text-gray-500 mb-4"},"Coming soon: Customize available avatars for players"),React.createElement("button",{disabled:!0,className:"px-6 py-3 bg-gray-300 text-gray-500 rounded-lg cursor-not-allowed"},"Manage Avatars (Coming Soon)")),React.createElement("div",{className:"border-l-4 border-gray-400 pl-4"},React.createElement("h2",{className:"text-2xl font-bold text-gray-500 mb-3"},"ðŸ“ Instructions"),React.createElement("p",{className:"text-gray-500 mb-4"},"Coming soon: Customize game instructions and rules"),React.createElement("button",{disabled:!0,className:"px-6 py-3 bg-gray-300 text-gray-500 rounded-lg cursor-not-allowed"},"Edit Instructions (Coming Soon)"))),React.createElement("div",{className:"mt-8 text-center"},React.createElement("button",{onClick:()=>t("game"),className:"px-8 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold text-lg btn-3d"},"Back to Game"))))),ge&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-2xl p-6 max-w-2xl w-full"},React.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-4"},"âš™ï¸ Customize Scoring"),React.createElement("p",{className:"text-sm text-gray-600 mb-4"},"Adjust point values for different actions. Changes apply to this game only."),React.createElement("div",{className:"space-y-4 mb-6"},React.createElement("div",{className:"bg-purple-50 p-4 rounded-lg"},React.createElement("label",{className:"block text-sm font-semibold text-purple-900 mb-2"},"Points per vote on fake definition"),React.createElement("p",{className:"text-xs text-gray-600 mb-2"},"Players earn this many points for each vote their fake definition receives"),React.createElement("input",{type:"number",min:"0",max:"10",value:fe.votesForFakeDefinition?.points||0,onChange:e=>ye({...fe,votesForFakeDefinition:{...fe.votesForFakeDefinition,points:parseInt(e.target.value)||0}}),className:"w-full px-4 py-2 border rounded-lg text-center text-lg font-bold"})),React.createElement("div",{className:"bg-green-50 p-4 rounded-lg"},React.createElement("label",{className:"block text-sm font-semibold text-green-900 mb-2"},"Points to dictionary holder per vote on real definition"),React.createElement("p",{className:"text-xs text-gray-600 mb-2"},"Dictionary holder earns this many points for each vote on the real definition"),React.createElement("input",{type:"number",min:"0",max:"10",value:fe.votesForRealDefinition?.points||0,onChange:e=>ye({...fe,votesForRealDefinition:{...fe.votesForRealDefinition,points:parseInt(e.target.value)||0}}),className:"w-full px-4 py-2 border rounded-lg text-center text-lg font-bold"})),React.createElement("div",{className:"bg-blue-50 p-4 rounded-lg"},React.createElement("label",{className:"block text-sm font-semibold text-blue-900 mb-2"},"Points for voting for real definition"),React.createElement("p",{className:"text-xs text-gray-600 mb-2"},"Players earn this many points when they correctly vote for the real definition"),React.createElement("input",{type:"number",min:"0",max:"10",value:fe.votingForRealDefinition?.points||0,onChange:e=>ye({...fe,votingForRealDefinition:{...fe.votingForRealDefinition,points:parseInt(e.target.value)||0}}),className:"w-full px-4 py-2 border rounded-lg text-center text-lg font-bold"}))),React.createElement("div",{className:"flex gap-3"},React.createElement("button",{onClick:()=>{ye(ae?.rules||{votesForFakeDefinition:{points:1},votesForRealDefinition:{points:1},votingForRealDefinition:{points:1}})},className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400"},"Reset to Defaults"),React.createElement("button",{onClick:()=>be(!1),className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600"},"Cancel"),React.createElement("button",{onClick:async()=>{await database.ref(`games/${a}/customScoring`).set(fe),ke("Scoring rules updated!","success"),be(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold"},"Save Changes"))))):React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center"},React.createElement("h2",{className:"text-2xl font-bold text-red-600 mb-4"},"Access Denied"),React.createElement("p",{className:"text-gray-600 mb-4"},"Only the game host can access configuration."),React.createElement("button",{onClick:()=>t("game"),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 btn-3d"},"Back to Game")))}if("game"===e&&c){const e=c.host===s,l=(c.dictionaryHolder||c.host)===s,n=c.dictionaryHolderName||c.hostName,r=c.players||{},o=c.definitions||{},i=c.votes||{};return r[s]?React.createElement("div",{className:"min-h-screen gradient-bg-animated"},React.createElement("div",{className:"max-w-4xl mx-auto"},React.createElement("div",{className:"sticky-header glass-card rounded-b-2xl p-4 mb-4 fade-in"},React.createElement("div",{className:"flex justify-between items-start"},React.createElement("div",null,React.createElement("h1",{className:"text-xl font-bold text-purple-900"},"Dictionary Game"),React.createElement("p",{className:"text-xs text-gray-600"},e?"ðŸ‘‘ Host":`Host: ${c.hostName}`),React.createElement("p",{className:"text-xs text-purple-600 font-medium"},"ðŸ“– ",l?"You hold the dictionary":n)),React.createElement("div",{className:"text-right"},React.createElement("div",{className:"flex items-center gap-2 bg-purple-100 px-4 py-2 rounded-lg mb-2"},React.createElement("span",{className:"font-mono font-bold text-purple-900 text-xl"},a),React.createElement("button",{onClick:Ve,className:"text-purple-600 hover:text-purple-800 text-sm font-semibold btn-3d px-2 py-1"},"ðŸ“‹ Copy"),React.createElement("button",{onClick:Je,className:"text-purple-600 hover:text-purple-800 text-sm font-semibold btn-3d px-2 py-1"},"ðŸ”— Link"),React.createElement("button",{onClick:Ye,className:"text-purple-600 hover:text-purple-800 text-sm font-semibold btn-3d px-2 py-1"},"ðŸ“± QR")),Ue&&React.createElement("div",{className:"mb-2 p-3 bg-white rounded-lg shadow-lg depth-layer-3"},React.createElement("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(window.location.origin+window.location.pathname+"?game="+a)}`,alt:"QR Code",width:"150",height:"150",className:"mx-auto"}),React.createElement("p",{className:"text-xs text-gray-600 mt-2 text-center"},"Scan to join game")),React.createElement("div",{className:"flex gap-2 flex-wrap justify-end"},e&&"setup"===c.state&&React.createElement("button",{onClick:Ke,className:"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600 btn-3d"},"ðŸ¤– Add Bots"),l&&"setup"===c.state&&React.createElement("button",{onClick:He,className:"px-3 py-1 bg-orange-500 text-white rounded text-sm hover:bg-orange-600"},"Restart Round"),l&&Object.keys(r).length>1&&React.createElement("button",{onClick:()=>J(!0),className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600"},"ðŸ“– Pass Dictionary"),e&&React.createElement("button",{onClick:()=>t("config"),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700"},"âš™ï¸ Config"),e&&React.createElement("button",{onClick:Oe,className:"px-3 py-1 bg-purple-600 text-white rounded text-sm hover:bg-purple-700"},"End Game"),React.createElement("button",{onClick:Qe,className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600"},"Leave Game"))))),React.createElement("div",{className:"glass-card rounded-2xl shadow-lg p-6 mb-4 slide-in"},React.createElement("h2",{className:"text-lg font-semibold mb-3"},"Players (",Object.keys(r).length,")"),e&&"setup"===c.state&&React.createElement("div",{className:"mb-3 p-3 bg-blue-50 rounded"},React.createElement("label",{className:"block text-sm font-medium mb-2"},"Change Dictionary Holder:"),React.createElement("select",{value:c.dictionaryHolder||c.host,onChange:e=>Be(e.target.value),className:"w-full px-3 py-2 border rounded"},Object.entries(r).map(([e,t])=>React.createElement("option",{key:e,value:e},t.name)))),React.createElement("div",{className:"grid grid-cols-2 gap-2"},Object.entries(r).sort(([,e],[,t])=>(t.score||0)-(e.score||0)).map(([e,t],a)=>{const l=ne.find(e=>e.id===t.avatar),n=e===s;return React.createElement("div",{key:e,className:"flex justify-between items-center p-3 rounded "+(n?"bg-purple-100 border-2 border-purple-400":"bg-purple-50")},React.createElement("div",{className:"flex items-center gap-2"},a<3&&t.score>0&&React.createElement("span",{className:"text-xl"},["ðŸ¥‡","ðŸ¥ˆ","ðŸ¥‰"][a]),React.createElement("span",{className:"text-2xl"},l?.emoji||"ðŸ‘¤"),React.createElement("span",{className:"font-medium "+(n?"text-purple-900":"")},t.name,t.isBot&&React.createElement("span",{className:"ml-1 text-xs text-gray-500"},"ðŸ¤–"))),React.createElement("span",{className:"text-purple-700 font-bold"},t.score||0))}))),l&&"setup"===c.state&&React.createElement("div",{className:"glass-card rounded-2xl shadow-lg p-6 mb-4 fade-in"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h2",{className:"text-xl font-semibold"},"Setup Round"),React.createElement("div",{className:"flex gap-2"},e&&React.createElement("button",{onClick:()=>t("config"),className:"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600 btn-3d"},"âš™ï¸ Configuration"),React.createElement("button",{onClick:()=>ie(!0),className:"px-3 py-1 bg-indigo-500 text-white rounded text-sm hover:bg-indigo-600 btn-3d"},"ðŸ“š Word History (",$.length+j.length,")"))),React.createElement("div",{className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Difficulty"),React.createElement("select",{value:g,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border rounded"},React.createElement("option",{value:"kids"},"Kids (8-12)"),React.createElement("option",{value:"teen"},"Teens"),React.createElement("option",{value:"adult"},"Adults"))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Word"),React.createElement("div",{className:"flex gap-2 mb-2"},React.createElement("input",{type:"text",value:f,onChange:e=>y(e.target.value),placeholder:"Enter word",className:"flex-1 px-3 py-2 border rounded"}),React.createElement("button",{onClick:De,disabled:w,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700"},w?"Loading...":"Random"),f&&React.createElement("button",{onClick:Fe,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",title:"Pronounce word"},"ðŸ”Š")),B&&React.createElement("p",{className:"text-sm text-purple-600 mb-2"},"ðŸ“¢ Pronunciation: ",React.createElement("span",{className:"font-mono"},B)),U&&React.createElement("p",{className:"text-sm text-blue-600 mb-2"},"ðŸ’¡ ",U),f&&$.includes(f.toLowerCase().trim())&&React.createElement("p",{className:"text-sm text-orange-600 mb-2"},"âš ï¸ This word has been used before"),f&&j.includes(f.toLowerCase().trim())&&React.createElement("p",{className:"text-sm text-red-600 mb-2"},"âš ï¸ This word was previously skipped")),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium mb-2"},"Real Definition"),React.createElement("div",{className:"space-y-2"},React.createElement("textarea",{value:x,onChange:e=>h(e.target.value),placeholder:"Enter the real definition",className:"w-full px-3 py-2 border rounded h-24"}),React.createElement("button",{onClick:je,disabled:C||!f.trim(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400"},C?"Loading...":"Get Definition"),React.createElement("p",{className:"text-xs text-gray-500"},'Click "Get Definition" to auto-fill from online dictionary'))),React.createElement("button",{onClick:Ae,className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700"},"Start Collecting Definitions"),React.createElement("button",{onClick:Ie,disabled:!f.trim(),className:"w-full px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:bg-gray-400"},"Skip Word (Too Easy/Already Known)"),($.length>0||j.length>0)&&React.createElement("div",{className:"mt-4 p-3 bg-gray-50 rounded"},React.createElement("div",{className:"flex justify-between items-center mb-2"},React.createElement("span",{className:"text-sm font-medium text-gray-700"},"Word History: ",$.length," used, ",j.length," skipped"),React.createElement("button",{onClick:Ge,className:"text-xs text-red-600 hover:text-red-700 underline"},"Clear History")),$.length>0&&React.createElement("div",{className:"mb-2"},React.createElement("p",{className:"text-xs font-semibold text-gray-600"},"Used:"),React.createElement("p",{className:"text-xs text-gray-600"},$.slice(-10).reverse().join(", "),$.length>10&&"...")),j.length>0&&React.createElement("div",null,React.createElement("p",{className:"text-xs font-semibold text-gray-600"},"Skipped:"),React.createElement("p",{className:"text-xs text-gray-600"},j.slice(-10).reverse().join(", "),j.length>10&&"..."))))),!l&&"setup"===c.state&&React.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-4 text-center"},React.createElement("p",{className:"text-gray-600"},"Waiting for dictionary holder to start the round...")),"collecting"===c.state&&React.createElement("div",{className:"glass-card rounded-2xl shadow-lg p-6 mb-4 fade-in"},React.createElement("h2",{className:"text-xl font-semibold mb-2"},l?"Definitions Coming In":"Submit Your Definition"),React.createElement("div",{className:"mb-4"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("p",{className:"text-gray-600"},"Word: ",React.createElement("span",{className:"font-bold text-lg"},c.currentWord)),c.currentWord&&React.createElement("button",{onClick:()=>{if("speechSynthesis"in window){const e=new SpeechSynthesisUtterance(c.currentWord);e.rate=.8,e.pitch=1,window.speechSynthesis.speak(e)}},className:"px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",title:"Pronounce word"},"ðŸ”Š")),c.pronunciation&&React.createElement("p",{className:"text-sm text-purple-600 mt-1"},"ðŸ“¢ ",c.pronunciation),c.wordFact&&React.createElement("p",{className:"text-sm text-blue-600 mt-1"},"ðŸ’¡ ",c.wordFact)),!l&&!o[s]&&React.createElement("div",{className:"space-y-3"},React.createElement("textarea",{value:R,onChange:e=>E(e.target.value),placeholder:"Write a fake definition...",className:"w-full px-3 py-2 border rounded h-24"}),React.createElement("button",{onClick:Le,className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},"Submit Definition")),!l&&o[s]&&React.createElement("div",{className:"bg-green-50 p-4 rounded"},React.createElement("p",{className:"text-green-800 font-semibold"},"âœ“ Your definition submitted!")),l&&React.createElement("div",{className:"space-y-3"},React.createElement("p",{className:"text-sm text-gray-600"},"Definitions received: ",Object.keys(o).length," / ",Object.keys(r).length-1),(()=>{const e=Object.entries(r).filter(([e,t])=>e!==s&&!o[e]).map(([e,t])=>t);if(e.length>0)return React.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3"},React.createElement("p",{className:"text-xs font-semibold text-yellow-800 mb-2"},"Waiting for:"),React.createElement("div",{className:"flex flex-wrap gap-2"},e.map((e,t)=>{const a=ne.find(t=>t.id===e.avatar);return React.createElement("span",{key:t,className:"text-xs bg-yellow-100 px-2 py-1 rounded-full flex items-center gap-1"},React.createElement("span",null,a?.emoji||"ðŸ‘¤"),React.createElement("span",null,e.name))})))})(),[{id:"real",text:c.realDefinition,isReal:!0},...Object.entries(o).map(([e,t])=>({id:e,text:t.text,isReal:!1}))].sort(()=>Math.random()-.5).map((e,t)=>React.createElement("div",{key:e.id,className:e.isReal?"bg-green-50 p-3 rounded border-2 border-green-300 depth-layer-1":"bg-gray-50 p-3 rounded depth-layer-1"},React.createElement("p",{className:"text-sm font-medium text-gray-600 flex items-center gap-2"},e.isReal&&React.createElement("span",null,"ðŸ“–"),"Definition ",t+1,e.isReal&&React.createElement("span",{className:"text-green-700 font-bold"},"(Real)")),React.createElement("p",{className:"text-gray-800 mt-1"},e.text))),Object.keys(o).length>=Object.keys(r).length-1?React.createElement("button",{onClick:Me,className:"w-full px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700"},"Start Voting"):React.createElement("button",{disabled:!0,className:"w-full px-4 py-3 bg-gray-400 text-white rounded-lg cursor-not-allowed"},"Waiting for all definitions..."))),"voting"===c.state&&React.createElement("div",{className:"glass-card rounded-2xl shadow-lg p-6 mb-4 fade-in"},React.createElement("h2",{className:"text-xl font-semibold mb-2"},"Vote for the Real Definition"),React.createElement("div",{className:"mb-4"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("p",{className:"text-gray-600"},"Word: ",React.createElement("span",{className:"font-bold text-lg"},c.currentWord)),c.currentWord&&React.createElement("button",{onClick:()=>{if("speechSynthesis"in window){const e=new SpeechSynthesisUtterance(c.currentWord);e.rate=.8,e.pitch=1,window.speechSynthesis.speak(e)}},className:"px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm",title:"Pronounce word"},"ðŸ”Š")),c.pronunciation&&React.createElement("p",{className:"text-sm text-purple-600 mt-1"},"ðŸ“¢ ",c.pronunciation),c.wordFact&&React.createElement("p",{className:"text-sm text-blue-600 mt-1"},"ðŸ’¡ ",c.wordFact)),!l&&React.createElement("div",{className:"space-y-3"},[...Object.entries(o).filter(([e])=>e!==s),["real",{text:c.realDefinition}]].sort(()=>Math.random()-.5).map(([e,t])=>{const l=v===e,n="real"===e?null:r[e];n&&ne.find(e=>e.id===n.avatar);return React.createElement("button",{key:e,onClick:()=>(async e=>{await database.ref(`games/${a}/votes/${s}`).set(e),N(e)})(e),className:`w-full text-left p-4 rounded-lg border-2 transition-all ${l?"border-green-500 bg-green-50":"border-gray-200 hover:border-purple-300 hover:shadow-md"} btn-3d`},React.createElement("div",{className:"flex items-start gap-3"},React.createElement("span",{className:"text-3xl flex-shrink-0"},"ðŸ“"),React.createElement("div",{className:"flex-1"},React.createElement("p",{className:"text-gray-800"},t.text)),l&&React.createElement("span",{className:"ml-2 text-green-600 font-semibold text-xl flex-shrink-0"},"âœ“")))})),l&&React.createElement("div",{className:"space-y-3"},React.createElement("p",{className:"text-sm text-gray-600"},"Votes cast: ",Object.keys(i).length," / ",Object.keys(r).length-1),Object.keys(i).length>=Object.keys(r).length-1&&React.createElement("button",{onClick:Te,className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700"},"Show Results"))),"results"===c.state&&React.createElement("div",{className:"glass-card rounded-2xl shadow-lg p-6 mb-4 fade-in"},React.createElement("h2",{className:"text-xl font-semibold mb-4"},"Round Results"),React.createElement("div",{className:"mb-4 text-center"},React.createElement("p",{className:"text-2xl font-bold text-purple-900"},c.currentWord),c.pronunciation&&React.createElement("p",{className:"text-sm text-purple-600 mt-1"},"ðŸ“¢ ",c.pronunciation)),React.createElement("div",{className:"mb-6 p-4 bg-green-50 rounded-lg depth-layer-2"},React.createElement("div",{className:"flex items-start gap-3 mb-3"},React.createElement("span",{className:"text-3xl"},"ðŸ“–"),React.createElement("div",{className:"flex-1"},React.createElement("h3",{className:"font-semibold text-green-900 mb-2"},"Real Definition:"),React.createElement("p",{className:"text-gray-800"},c.realDefinition))),(()=>{const e=Object.values(c.voteCounts||{}).reduce((e,t)=>e+t,0)||1,t=c.voteCounts?.real||0,a=(t/e*100).toFixed(0),l=Object.entries(i).filter(([e,t])=>"real"===t).map(([e])=>e);return React.createElement("div",{className:"mt-3"},React.createElement("div",{className:"flex justify-between text-sm text-green-700 mb-1"},React.createElement("span",null,"Votes: ",t),React.createElement("span",null,a,"%")),React.createElement("div",{className:"w-full bg-green-200 rounded-full h-3 overflow-hidden"},React.createElement("div",{className:"bg-green-600 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${a}%`}})),l.length>0&&React.createElement("div",{className:"mt-2 flex flex-wrap gap-2"},React.createElement("span",{className:"text-xs text-green-700 font-semibold"},"Voted by:"),l.map(e=>{const t=r[e],a=t?ne.find(e=>e.id===t.avatar):null;return React.createElement("span",{key:e,className:"text-xs bg-green-100 px-2 py-1 rounded-full flex items-center gap-1"},React.createElement("span",null,a?.emoji||"ðŸ‘¤"),React.createElement("span",null,t?.name))})))})()),React.createElement("div",{className:"space-y-3 mb-6"},React.createElement("h3",{className:"font-semibold"},"Player Definitions:"),Object.entries(o).map(([t,a])=>{const l=r[t],n=l?ne.find(e=>e.id===l.avatar):null,s=c.voteCounts?.[t]||0,o=(s/(Object.values(c.voteCounts||{}).reduce((e,t)=>e+t,0)||1)*100).toFixed(0),m=Object.entries(i).filter(([e,a])=>a===t).map(([e])=>e);return React.createElement("div",{key:t,className:"p-4 bg-purple-50 rounded-lg depth-layer-2"},React.createElement("div",{className:"flex items-start gap-3 mb-2"},React.createElement("span",{className:"text-3xl"},n?.emoji||"ðŸ‘¤"),React.createElement("div",{className:"flex-1"},React.createElement("div",{className:"flex items-center justify-between mb-1"},React.createElement("p",{className:"font-semibold text-purple-900"},l?.name,":"),e&&!l?.isBot&&React.createElement("button",{onClick:()=>_e(t),className:"px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600 text-xs font-semibold btn-3d",title:"Award bonus point for excellent definition"},"+1 Bonus")),React.createElement("p",{className:"text-gray-800 mt-1"},a.text))),React.createElement("div",{className:"mt-3"},React.createElement("div",{className:"flex justify-between text-sm text-purple-700 mb-1"},React.createElement("span",null,"Votes: ",s),React.createElement("span",null,o,"%")),React.createElement("div",{className:"w-full bg-purple-200 rounded-full h-3 overflow-hidden"},React.createElement("div",{className:"bg-purple-600 h-full rounded-full transition-all duration-1000 ease-out",style:{width:`${o}%`}})),m.length>0&&React.createElement("div",{className:"mt-2 flex flex-wrap gap-2"},React.createElement("span",{className:"text-xs text-purple-700 font-semibold"},"Voted by:"),m.map(e=>{const t=r[e],a=t?ne.find(e=>e.id===t.avatar):null;return React.createElement("span",{key:e,className:"text-xs bg-purple-100 px-2 py-1 rounded-full flex items-center gap-1"},React.createElement("span",null,a?.emoji||"ðŸ‘¤"),React.createElement("span",null,t?.name))}))))})),e&&React.createElement("button",{onClick:ze,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},"New Round"),!e&&React.createElement("p",{className:"text-center text-gray-600"},"Waiting for host to start next round..."))),ge&&fe&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-2xl p-6 max-w-2xl w-full"},React.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-4"},"âš™ï¸ Customize Scoring"),React.createElement("p",{className:"text-sm text-gray-600 mb-4"},"Adjust point values for different actions. Changes apply to this game only."),React.createElement("div",{className:"space-y-4 mb-6"},React.createElement("div",{className:"bg-purple-50 p-4 rounded-lg"},React.createElement("label",{className:"block text-sm font-semibold text-purple-900 mb-2"},"Points per vote on fake definition"),React.createElement("p",{className:"text-xs text-gray-600 mb-2"},"Players earn this many points for each vote their fake definition receives"),React.createElement("input",{type:"number",min:"0",max:"10",value:fe.votesForFakeDefinition?.points||0,onChange:e=>ye({...fe,votesForFakeDefinition:{...fe.votesForFakeDefinition,points:parseInt(e.target.value)||0}}),className:"w-full px-4 py-2 border rounded-lg text-center text-lg font-bold"})),React.createElement("div",{className:"bg-green-50 p-4 rounded-lg"},React.createElement("label",{className:"block text-sm font-semibold text-green-900 mb-2"},"Points to dictionary holder per vote on real definition"),React.createElement("p",{className:"text-xs text-gray-600 mb-2"},"Dictionary holder earns this many points for each vote on the real definition"),React.createElement("input",{type:"number",min:"0",max:"10",value:fe.votesForRealDefinition?.points||0,onChange:e=>ye({...fe,votesForRealDefinition:{...fe.votesForRealDefinition,points:parseInt(e.target.value)||0}}),className:"w-full px-4 py-2 border rounded-lg text-center text-lg font-bold"})),React.createElement("div",{className:"bg-blue-50 p-4 rounded-lg"},React.createElement("label",{className:"block text-sm font-semibold text-blue-900 mb-2"},"Points for voting for real definition"),React.createElement("p",{className:"text-xs text-gray-600 mb-2"},"Players earn this many points when they correctly vote for the real definition"),React.createElement("input",{type:"number",min:"0",max:"10",value:fe.votingForRealDefinition?.points||0,onChange:e=>ye({...fe,votingForRealDefinition:{...fe.votingForRealDefinition,points:parseInt(e.target.value)||0}}),className:"w-full px-4 py-2 border rounded-lg text-center text-lg font-bold"}))),React.createElement("div",{className:"flex gap-3"},React.createElement("button",{onClick:()=>{ye(ae?.rules||{votesForFakeDefinition:{points:1},votesForRealDefinition:{points:1},votingForRealDefinition:{points:1}})},className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400"},"Reset to Defaults"),React.createElement("button",{onClick:()=>be(!1),className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600"},"Cancel"),React.createElement("button",{onClick:async()=>{await database.ref(`games/${a}/customScoring`).set(fe),ke("Scoring rules updated!","success"),be(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold"},"Save Changes")))),ce&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-2xl p-6 max-w-3xl w-full max-h-[80vh] overflow-y-auto"},React.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-4"},"ðŸ“š Word History"),0===$.length&&0===j.length?React.createElement("p",{className:"text-gray-600 text-center py-8"},"No words in history yet"):React.createElement("div",{className:"space-y-6"},$.length>0&&React.createElement("div",null,React.createElement("div",{className:"flex items-center justify-between mb-3"},React.createElement("h4",{className:"font-semibold text-green-900"},"âœ“ Used Words (",$.length,")")),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-48 overflow-y-auto"},$.map((e,t)=>React.createElement("div",{key:t,className:"bg-green-50 border border-green-200 rounded p-2 flex items-center justify-between"},React.createElement("span",{className:"text-sm truncate"},e),React.createElement("button",{onClick:()=>We(e,"used"),className:"ml-2 text-red-500 hover:text-red-700 text-xs",title:"Remove from history"},"âœ•"))))),j.length>0&&React.createElement("div",null,React.createElement("div",{className:"flex items-center justify-between mb-3"},React.createElement("h4",{className:"font-semibold text-orange-900"},"â­ï¸ Skipped Words (",j.length,")")),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-48 overflow-y-auto"},j.map((e,t)=>React.createElement("div",{key:t,className:"bg-orange-50 border border-orange-200 rounded p-2 flex items-center justify-between"},React.createElement("span",{className:"text-sm truncate"},e),React.createElement("button",{onClick:()=>We(e,"skipped"),className:"ml-2 text-red-500 hover:text-red-700 text-xs",title:"Remove from history"},"âœ•")))))),React.createElement("div",{className:"mt-6 flex gap-3"},($.length>0||j.length>0)&&React.createElement("button",{onClick:Ge,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},"Clear All History"),React.createElement("button",{onClick:()=>ie(!1),className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600"},"Close")))),Y&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6"},React.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-4"},"ðŸ“– Pass Dictionary"),React.createElement("p",{className:"text-gray-600 mb-4"},"Select a player to become the new Dictionary Holder:"),React.createElement("div",{className:"space-y-2 mb-6 max-h-64 overflow-y-auto"},Object.entries(r).filter(([e,t])=>e!==s&&!t.isBot).map(([e,t])=>{const l=ne.find(e=>e.id===t.avatar);return React.createElement("button",{key:e,onClick:()=>(async e=>{const t=(c.players||{})[e];t?(await database.ref(`games/${a}`).update({dictionaryHolder:e,dictionaryHolderName:t.name}),J(!1),alert(`Dictionary passed to ${t.name}!`)):alert("Selected player not found.")})(e),className:"w-full p-3 bg-blue-50 hover:bg-blue-100 rounded-lg text-left flex items-center gap-3 transition-colors"},React.createElement("span",{className:"text-2xl"},l?.emoji||"ðŸ‘¤"),React.createElement("div",null,React.createElement("p",{className:"font-semibold text-gray-900"},t.name),React.createElement("p",{className:"text-sm text-gray-600"},"Score: ",t.score)))}),0===Object.entries(r).filter(([e,t])=>e!==s&&!t.isBot).length&&React.createElement("p",{className:"text-center text-gray-500 py-4"},"No other human players available")),React.createElement("button",{onClick:()=>J(!1),className:"w-full px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600"},"Cancel"))),ee.show&&React.createElement("div",{className:`toast show ${ee.type}`},ee.message)):React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center"},React.createElement("h2",{className:"text-2xl font-bold text-red-600 mb-4"},"Disconnected"),React.createElement("p",{className:"text-gray-600 mb-4"},"You have been removed from this game or the game has ended."),React.createElement("button",{onClick:()=>{localStorage.removeItem("dictionaryGame_code"),localStorage.removeItem("dictionaryGame_playerId"),localStorage.removeItem("dictionaryGame_playerName"),t("home")},className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 btn-3d"},"Return to Home")))}return React.createElement("div",null,React.createElement("div",{className:"min-h-screen flex items-center justify-center"},React.createElement("p",{className:"text-gray-600"},"Loading...")),ee.show&&React.createElement("div",{className:`toast show ${ee.type}`},ee.message))}const root=ReactDOM.createRoot(document.getElementById("root"));root.render(React.createElement(MultiplayerDictionaryGame,null));